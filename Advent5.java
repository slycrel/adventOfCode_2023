import java.math.BigInteger;
import java.time.Instant;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

/*
--- Day 5: If You Give A Seed A Fertilizer ---

You take the boat and find the gardener right where you were told he would be: managing a giant "garden" that looks more to you like a farm.

"A water source? Island Island is the water source!" You point out that Snow Island isn't receiving any water.

"Oh, we had to stop the water because we ran out of sand to filter it with! Can't make snow with dirty water. Don't worry, I'm sure we'll get more sand soon; we only turned off the water a few days... weeks... oh no." His face sinks into a look of horrified realization.

"I've been so busy making sure everyone here has food that I completely forgot to check why we stopped getting more sand! There's a ferry leaving soon that is headed over in that direction - it's much faster than your boat. Could you please go check it out?"

You barely have time to agree to this request when he brings up another. "While you wait for the ferry, maybe you can help us with our food production problem. The latest Island Island Almanac just arrived and we're having trouble making sense of it."

The almanac (your puzzle input) lists all of the seeds that need to be planted. It also lists what type of soil to use with each kind of seed, what type of fertilizer to use with each kind of soil, what type of water to use with each kind of fertilizer, and so on. Every type of seed, soil, fertilizer and so on is identified with a number, but numbers are reused by each category - that is, soil 123 and fertilizer 123 aren't necessarily related to each other.

For example:

seeds: 79 14 55 13

seed-to-soil map:
50 98 2
52 50 48

soil-to-fertilizer map:
0 15 37
37 52 2
39 0 15

fertilizer-to-water map:
49 53 8
0 11 42
42 0 7
57 7 4

water-to-light map:
88 18 7
18 25 70

light-to-temperature map:
45 77 23
81 45 19
68 64 13

temperature-to-humidity map:
0 69 1
1 0 69

humidity-to-location map:
60 56 37
56 93 4
The almanac starts by listing which seeds need to be planted: seeds 79, 14, 55, and 13.

The rest of the almanac contains a list of maps which describe how to convert numbers from a source category into numbers in a destination category. That is, the section that starts with seed-to-soil map: describes how to convert a seed number (the source) to a soil number (the destination). This lets the gardener and his team know which soil to use with which seeds, which water to use with which fertilizer, and so on.

Rather than list every source number and its corresponding destination number one by one, the maps describe entire ranges of numbers that can be converted. Each line within a map contains three numbers: the destination range start, the source range start, and the range length.

Consider again the example seed-to-soil map:

50 98 2
52 50 48
The first line has a destination range start of 50, a source range start of 98, and a range length of 2. This line means that the source range starts at 98 and contains two values: 98 and 99. The destination range is the same length, but it starts at 50, so its two values are 50 and 51. With this information, you know that seed number 98 corresponds to soil number 50 and that seed number 99 corresponds to soil number 51.

The second line means that the source range starts at 50 and contains 48 values: 50, 51, ..., 96, 97. This corresponds to a destination range starting at 52 and also containing 48 values: 52, 53, ..., 98, 99. So, seed number 53 corresponds to soil number 55.

Any source numbers that aren't mapped correspond to the same destination number. So, seed number 10 corresponds to soil number 10.

So, the entire list of seed numbers and their corresponding soil numbers looks like this:

seed  soil
0     0
1     1
...   ...
48    48
49    49
50    52
51    53
...   ...
96    98
97    99
98    50
99    51
With this map, you can look up the soil number required for each initial seed number:

Seed number 79 corresponds to soil number 81.
Seed number 14 corresponds to soil number 14.
Seed number 55 corresponds to soil number 57.
Seed number 13 corresponds to soil number 13.
The gardener and his team want to get started as soon as possible, so they'd like to know the closest location that needs a seed. Using these maps, find the lowest location number that corresponds to any of the initial seeds. To do this, you'll need to convert each seed number through other categories until you can find its corresponding location number. In this example, the corresponding types are:

Seed 79, soil 81, fertilizer 81, water 81, light 74, temperature 78, humidity 78, location 82.
Seed 14, soil 14, fertilizer 53, water 49, light 42, temperature 42, humidity 43, location 43.
Seed 55, soil 57, fertilizer 57, water 53, light 46, temperature 82, humidity 82, location 86.
Seed 13, soil 13, fertilizer 52, water 41, light 34, temperature 34, humidity 35, location 35.
So, the lowest location number in this example is 35.

What is the lowest location number that corresponds to any of the initial seed numbers?

Your puzzle answer was 226172555.

--- Part Two ---

Everyone will starve if you only plant such a small number of seeds. Re-reading the almanac, it looks like the seeds: line actually describes ranges of seed numbers.

The values on the initial seeds: line come in pairs. Within each pair, the first value is the start of the range and the second value is the length of the range. So, in the first line of the example above:

seeds: 79 14 55 13
This line describes two ranges of seed numbers to be planted in the garden. The first range starts with seed number 79 and contains 14 values: 79, 80, ..., 91, 92. The second range starts with seed number 55 and contains 13 values: 55, 56, ..., 66, 67.

Now, rather than considering four seed numbers, you need to consider a total of 27 seed numbers.

In the above example, the lowest location number can be obtained from seed number 82, which corresponds to soil 84, fertilizer 84, water 84, light 77, temperature 45, humidity 46, and location 46. So, the lowest location number is 46.

Consider all of the initial seed numbers listed in the ranges on the first line of the almanac. What is the lowest location number that corresponds to any of the initial seed numbers?

Your puzzle answer was 47909639.

Both parts of this puzzle are complete! They provide two gold stars: **
*/

// Part 1 took ~90 minutes.  Could have been shorter if I hadn't started in the early am hours...!
// Part 2 was "easier" at around 45 mins, had to reqork it to not build an array of values, but use a
//   start + range to iterate on instead.
public class Advent5
{
	static HashMap<String,almanac> lookupTables = new HashMap<>();

	public static void main(String[] args)
	{
		var blocks = daveInput.split("\n\n");
		var seeds = getSeeds(blocks[0]);

		// populate almanacs
		for (int i = 1; i < blocks.length; i++)
		{
			var table = new almanac(blocks[i]);
			lookupTables.put(table.fromName, table);
		}

		// part 2 overrides part 1...!
		// This takes a long time.  We could probably take a shortcut and determine the
		// range of locations.  Once that is hit we could likely discard mappings that
		// are inherently higher and make this faster.  But...  brute force for the
		// win today!  Clocking in at 5ish minutes on a m2!
		long smallestLocation = -1;
		for (var seed : seeds)
		{
			long startVal = seed.startVal();
			long range = seed.incrementVal();
			System.out.println(Instant.now() + "] beginning " + range + " iterations starting at " + startVal);
			for (long i = 0; i < range; i++)
			{
				var seedVal = startVal + i;
				long value = lowestTransformFrom("seed", "location", seedVal);
				smallestLocation = (smallestLocation == -1) ? value : Math.min(value, smallestLocation);
			}
			System.out.println(Instant.now() + "] smallest so far is " + smallestLocation);
		}

		System.out.println(Instant.now() + "] smallest location of all seeds: " + smallestLocation);
	}

	record Seed(String startValue, String increments)
	{
		long startVal() { return new BigInteger(startValue).longValue(); }
		long incrementVal() { return new BigInteger(increments).longValue(); }
	}
	static ArrayList<Seed> getSeeds(String input)
	{
		var array = new ArrayList<String>();

		var arr = new ArrayList<>(List.of(input.split(" ")));
		arr.remove(0);  // "seeds:"

		// part 1
		for (var str : arr)
			array.add(str.replace(" ", ""));        // this can't be returned anymore with pt 2 changes, ohwell
//		return array;

		// part 2
		var part2array = new ArrayList<Seed>();
		for (int x = 0; x < array.size(); x += 2)
			part2array.add(new Seed(array.get(x), array.get(x + 1)));

		return part2array;
	}

	static long lowestTransformFrom(String from, String to, long fromValue)
	{
		// todo: getting a value is straightforward recursion.
		//  Getting the lowest value will be more difficult.
		//  Brute force would be expanding on all values at each transform,
		//  then checking each branch of this tree against it's transforms, similar to yesterday's problem.
		//  This doesn't seem scalable.
		//  Alternatively, we could create a "lowest values" variable for each possible mapping between
		//  the transforms up front, and then choose the pre-computed lowest value based on the seed passed in?
		//    If we do that, we almost need sub-records in the almanacEntry for each possible range-based
		//    connection (instead of breaking these into their actual individual number bits)
		//  I wonder if putting these in a DB and writing some sqLite or something would actually work to solve this

		// approach to start:
		//  collect array of valid transforms for each range that matches the input #
		//  move them through to the end to get a location # for each one
		//  choose the lowest location value from that set
		//  (will this expand into multiple entries like the prior day's challenge?  I suspect it will at
		//   each transform level, meaning we will need to create sets of transforms that all filter into
		//   our overall returned list of locations...  also can we cheat somehow since we know the location
		//   ranges up front?)

		// after re-reading the challenge, I'm over-thinking this.  It's a simple transform through our sets;  Recursion afterall!
		var whichAlmanac = lookupTables.get(from);
//		System.out.println("iterating over entries of almanac " + whichAlmanac.fullName + " to map value " + fromValue);
		for (var entry : whichAlmanac.entries)
		{
			// this won't account for mapping overlaps.  Do we have to worry about that?  Seems like no, according to the dataset.
			var num = entry.transformFrom(fromValue);
			if (num != -1)
			{
				// if to's match, found it!
				if (to.equals(whichAlmanac.toName))
				{
//					System.out.println("matched value " + fromValue + " as " + num + " : " +
//					                   "using transform: " + whichAlmanac.fullName);
					return num;
				}

				// need moar transforms
//				System.out.println("  more transforms needed, recursing into transform " + whichAlmanac.fromName + " <-> " + to + " : with value " + num);
				return lowestTransformFrom(whichAlmanac.toName, to, num);
			}
		}

		// mapping not found, so use the same number passed
		if (to.equals(whichAlmanac.toName))
		{
//			System.out.println("mapping not found, found value is: " + fromValue + " : " +
//			                   "transform is: " + whichAlmanac.fullName);
			return fromValue;
		}

		// no mapping, so pass thru the value to the next transform
//		System.out.println("no mapping, but still need transform of value " + fromValue + " : more transforms needed, recursing to "
//		                   + whichAlmanac.toName + " <-> " + to);
		return lowestTransformFrom(whichAlmanac.toName, to, fromValue);
	}

	record almanacEntry(long destinationStart, long sourceStart, long rangeLen, String fromName, String toName)
	{
		long transformFrom(long num)
		{
			var y = 0;
			if (sourceStart == 849557294)
				y++;

			if (num >= sourceStart && num < sourceStart + rangeLen)     // 0-based counting so >= start and < end
				return num - (sourceStart - destinationStart);

			return -1;  // -1 means not found; elsewhere this should translate to direct # mapping
		}
	}

	final static class almanac
	{
		String fullName;
		String fromName;
		String toName;
		ArrayList<almanacEntry> entries = new ArrayList<>();

		almanac(String input)
		{
			var halves = input.split(":");
			var splitName = halves[0].split("-to-");
			fullName = halves[0];
			fromName = splitName[0];
			toName = splitName[1].replace(" map", "");

			var lines = halves[1].split("\n");
			for (var line : lines)
			{
				if (line.isEmpty())
					continue;   // skip blank line

				var vals = line.split(" ");
				var entry = new almanacEntry(new BigInteger(vals[0]).longValue(),
				                             new BigInteger(vals[1]).longValue(),
				                             new BigInteger(vals[2]).longValue(), fromName, toName);
				entries.add(entry);
			}
		}
	}

	final static String testInput = """
		seeds: 79 14 55 13
		  
		seed-to-soil map:
		50 98 2
		52 50 48
		  
		soil-to-fertilizer map:
		0 15 37
		37 52 2
		39 0 15
		  
		fertilizer-to-water map:
		49 53 8
		0 11 42
		42 0 7
		57 7 4
		  
		water-to-light map:
		88 18 7
		18 25 70
		  
		light-to-temperature map:
		45 77 23
		81 45 19
		68 64 13
		  
		temperature-to-humidity map:
		0 69 1
		1 0 69
		  
		humidity-to-location map:
		60 56 37
		56 93 4
		""";

	final static String input =
		"""
			seeds: 3037945983 743948277 2623786093 391282324 195281306 62641412 769611781 377903357 2392990228 144218002 1179463071 45174621 2129467491 226193957 1994898626 92402726 1555863421 340215202 426882817 207194644
			   
			seed-to-soil map:
			3078006360 2182201339 30483272
			803630304 624445326 165226844
			2393736333 2745251526 281120946
			717936870 789672170 85693434
			598717319 410599330 27984688
			3999095007 2024628810 157572529
			3605588191 3026372472 22322803
			3555659576 2678166775 3396919
			968857148 438584018 1780307
			3216227818 2212684611 87459567
			2302084376 4122083708 91651957
			970637455 0 188112122
			507182228 299146916 40412346
			1372302034 1689624457 202945009
			1370123632 191483770 2178402
			324787204 193662172 105484744
			3116425470 2671328191 6838584
			626702007 875365604 82756204
			1575247043 978774853 317322423
			3134996187 4213735665 81231631
			2024628810 2681563694 63687832
			714565222 188112122 3371648
			547594574 1620884480 51122745
			3529388087 3374604163 26271489
			709458211 973428243 5107011
			2713008276 3985570976 98361735
			2088316642 3048695275 213767734
			3627910994 2300144178 371184013
			2674857279 4083932711 38150997
			1229789645 958121808 15306435
			4156667536 3328662676 45941487
			0 1296097276 324787204
			3108489632 3320726838 7935838
			4202609023 3667512001 92358273
			1352266801 978535254 239599
			1352506400 1672007225 17617232
			1245096080 440364325 107170721
			2811370011 3400875652 266636349
			430271948 547535046 76910280
			1158749577 339559262 71040068
			3559056495 3262463009 46531696
			3123264054 3308994705 11732133
			3303687385 3759870274 225700702
			   
			soil-to-fertilizer map:
			2937874770 2957653952 339980892
			1886469734 2145122669 192293654
			3277855662 822424488 19779182
			2622882196 2393077006 314992574
			3449876679 3769116301 525850995
			583550735 842203670 1302918999
			2145755543 345297835 477126653
			2078763388 2890661797 66992155
			2650514 2708069580 182592217
			0 2337416323 2650514
			530540566 2340066837 53010169
			185242731 0 345297835
			3975727674 3449876679 319239622
			   
			fertilizer-to-water map:
			861477134 5168332 68211907
			136969509 2229711837 29094441
			2823248929 1150509810 118368045
			3678888284 3073610919 53498438
			3948051821 3682691325 96234592
			1302827191 2387840795 504257794
			1198743248 1926818347 104083943
			1807084985 1104177008 46332802
			2143096098 619653304 259805223
			2063436946 2385211148 2629647
			2066066593 445026117 35759449
			358008423 537865723 81787581
			621204445 0 5168332
			2724438904 1861632296 65186051
			1853417787 2258806278 126404870
			3933311080 4141091197 14740741
			851739278 2892098589 9737856
			4044286413 3029323079 44287840
			1979822657 1778018007 83614289
			2101826042 2084781230 3070511
			4088574253 4268409625 26557671
			929689041 111346117 211974050
			3566310597 4155831938 112577687
			439796004 2030902290 53878940
			166063950 1490707297 191944473
			8760514 888219041 128208995
			3794695843 3778925917 57203243
			3029323079 3127109357 409045756
			2792635116 77722143 30613813
			3438368835 4013149435 127941762
			3732386722 3620382204 62309121
			2402901321 1682651770 95366237
			0 879458527 8760514
			493674944 2901836445 39780529
			3851899086 3536155113 81411994
			2498267558 1268877855 221829442
			4117947021 3836129160 177020275
			2789624955 108335956 3010161
			1141663091 480785566 57080157
			2104896553 406826572 38199545
			533455473 1016428036 87748972
			626372777 2087851741 141860096
			2720097000 73380239 4341904
			4115131924 3617567107 2815097
			768232873 323320167 83506405
			   
			water-to-light map:
			3846882465 367033980 98093832
			1878565977 3292746518 62917983
			4255729420 661438934 39237876
			469590509 2191298319 301681796
			381948234 1999013894 87642275
			3688496086 199351627 156562666
			1300818753 2086656169 104642150
			806539912 2798447654 224466318
			1265336919 355914293 11119687
			1405460903 1914042148 28882526
			2577391070 1942924674 56089220
			3680239306 4136990116 8256780
			1941483960 700676810 607954854
			3845058752 3022913972 1823713
			4239658038 1308631664 16071382
			2566162195 4254580741 11228875
			1671792383 3831845903 10462472
			3944976297 3842308375 294681741
			3290662499 3160062910 132683608
			2549438814 1324703046 16723381
			3423346107 1341426427 27108304
			1031006230 3355664501 234330689
			1276456606 4145246896 24362147
			3450454411 54538430 144813197
			1682254855 465127812 196311122
			54538430 1403802338 272790856
			2633480290 2492980115 305467539
			3595267608 4169609043 84971698
			3242064105 3644614138 48598394
			3077581200 4265809616 29157680
			771272305 1368534731 35267607
			1434343429 1676593194 237448954
			327329286 3589995190 54618948
			3106738880 3024737685 135325225
			2938947829 3693212532 138633371
			   
			light-to-temperature map:
			2777813298 2971073270 586210802
			1687968665 0 334152507
			4159107034 3882460035 135860262
			0 2095520416 192800212
			3640671099 3557284072 3145370
			2455782705 3560429442 322030593
			2022121172 1272848785 266199456
			773517036 914869331 357979454
			1131496490 1539048241 556472175
			3364024100 4018320297 60669366
			3643816469 2455782705 515290565
			192800212 334152507 580716824
			3424693466 4078989663 215977633
			   
			temperature-to-humidity map:
			4072523312 605654847 17750681
			1174610018 540191835 65463012
			2038455907 3792024734 100202248
			2539396783 866566556 128459181
			96342672 2296045868 14715058
			3827330744 1522255720 106701221
			3816190028 4081148893 11140716
			1706101724 3892226982 188921911
			3780839952 623405528 35350076
			765616949 1813669629 408993069
			4225769488 3778728770 13295964
			2752105545 1645897858 167771771
			2138658155 1121517092 400738628
			4239065452 4155853973 55901844
			3934031965 96342672 35726394
			3005272654 658755604 22724553
			3989311833 4211755817 83211479
			280430452 3186777866 320785315
			111057730 2310760926 65268270
			176326000 3659551759 104104452
			1895023635 1628956941 16940917
			4093334384 3507563181 132435104
			3027997207 132069066 179421352
			1477400307 311490418 228701417
			2934949875 2225723089 70322779
			601215767 681480157 100836818
			2919877316 3763656211 15072559
			3969758359 3639998285 19553474
			3207418559 2613356473 573421393
			4090273993 2222662698 3060391
			1911964552 995025737 126491355
			2667855964 782316975 84249581
			1240073030 2376029196 237327277
			702052585 4092289609 63564364
			   
			humidity-to-location map:
			2848734682 2982177676 22285660
			3380476660 3717224958 24199873
			3201930685 734568132 100088122
			764851360 4087339561 71173655
			188169313 2953711255 28466421
			3189375901 2832231336 12554784
			3369909102 47909639 10567558
			47909639 3741424831 99762378
			2871020342 58477197 7400020
			3042878026 3409715295 146497875
			1196348942 2734551883 97679453
			3418711171 3387790447 21924848
			1587973141 573552831 65833150
			1121006696 889063447 75342246
			1294028395 567796360 5756471
			3302018807 499906065 67890295
			2915035031 2921050411 32660844
			1982422286 3064299481 301982155
			704786709 4084864539 2475022
			299076626 834656254 54407193
			3623423724 2182055199 207702290
			388851709 2881400789 39649622
			147672017 3592293988 40497296
			2947695875 639385981 95182151
			707261731 3556213170 36080818
			2284404441 2389757489 138657919
			353483819 2146687309 35367890
			2519626540 441189704 58319568
			743342549 3366281636 21508811
			2878420362 2844786120 36614669
			216635734 4212526404 82440892
			3440636019 1235194267 182787705
			2577946108 964405693 270788574
			1453221956 3877915244 70435137
			836025015 1861705628 284981681
			1299784866 499509272 396793
			1859942766 3948350381 122479520
			2423062360 3004463336 59836145
			3404676533 4070829901 14034638
			1399208768 4158513216 54013188
			1300181659 342162595 99027109
			1523657093 3652908910 64316048
			3851243640 1417981972 443723656
			3831126014 3632791284 20117626
			1653806291 2528415408 206136475
			428501331 65877217 276285378
			2482898505 3841187209 36728035
			""";
// 4043382508 113348245 3817519559 177922221 3613573568 7600537 773371046 400582097 2054637767 162982133 2246524522 153824596 1662955672 121419555 2473628355 846370595 1830497666 190544464 230006436 483872831
	final static String daveInput =
		"""
			seeds: 773371046 400582097
			   
			seed-to-soil map:
			4064811 506246814 25615317
			1520011681 1661018909 106057083
			1007960598 8836276 47579700
			1055540298 679332386 82196064
			2377475243 3574057730 33434621
			2323567163 2090355001 53908080
			2724594670 4209189177 35645909
			3247614896 4244835086 50132210
			2793935335 3209861711 43002393
			2560156404 2081665194 8689807
			3490249256 2918928471 290933240
			1399066513 1515349965 120856915
			3383052312 1779636204 107196944
			1634905040 1464437422 50912543
			0 849557294 4064811
			2155322314 2548120606 2883579
			3362202103 2803876083 20850209
			465575436 853622105 310104399
			3781182496 3252864104 5074346
			3297747106 3844665588 64454997
			1779636204 2144263081 375686110
			2765805312 2519990583 28130023
			1325393680 605659553 73672833
			1211533784 841842038 7715256
			164952771 1163726504 300622665
			2197289480 3607492351 121111676
			54492157 395786200 110460614
			3835840979 3257938450 316119280
			1685817583 162560616 944821
			1626068764 0 8836276
			2760240579 3728604027 5564733
			1219249040 56415976 106144640
			2836937728 3734168760 105330821
			2994742998 2551004185 252871898
			4246162438 3909120585 48804858
			775679835 163505437 232280763
			2410909864 3957925443 149246540
			3786256842 4107171983 49584137
			2158205893 1886833148 39083587
			29680128 1636206880 24812029
			2994701606 2519949191 41392
			1137736362 531862131 73797422
			1686762404 761528450 80313588
			2942268549 4156756120 52433057
			1519923428 1464349169 88253
			4151960259 2824726292 94202179
			2568846211 1925916735 155748459
			2318401156 3839499581 5166007
			   
			soil-to-fertilizer map:
			664927065 1834026871 25712908
			1735589252 664927065 98272608
			2065221534 1506193032 310617880
			2375839414 4115277554 6678312
			3253816560 1859739779 203737617
			1850812956 4108908733 6368821
			2919962848 2399006039 522616
			468677210 108672893 44408648
			1401161152 2664100077 99602261
			1500763413 2164180200 234825839
			3984134761 1144008481 310832535
			3804009398 3016674464 2139313
			963394967 763199673 148819056
			2382517726 2954526136 62148328
			2596720874 2399528655 264571422
			1112214023 3018813777 288947129
			1874397736 2763702338 190823798
			2920485464 4108473866 434867
			2496018070 2063477396 100702804
			3824353112 3447611199 78601908
			690639973 3526213107 99743564
			3806148711 928969825 18204401
			2861292296 3388940647 58670552
			0 356321399 298014179
			3902955020 3307760906 81179741
			360004317 0 108672893
			790383537 4121955866 173011430
			3457554177 3762018645 346455221
			1833861860 912018729 16951096
			3056982305 947174226 131597944
			2444666054 1454841016 51352016
			3188580249 1078772170 65236311
			513085858 153081541 141249720
			1857181777 1816810912 17215959
			298014179 294331261 61990138
			2920920331 3625956671 136061974
			   
			fertilizer-to-water map:
			1314722794 2859771596 110470422
			925980570 2089240080 7623550
			2161966099 923823182 18764610
			4126382841 3495278690 168584455
			1914851626 1547043780 6792197
			3603209919 3780725227 292923781
			2451774221 919021074 4802108
			3495278690 4073649008 66625331
			3896133700 3663863145 116862082
			2180730709 506275893 271043512
			3141265861 2645889920 57381085
			3136392798 1603951687 4873063
			1538199090 942587792 376652536
			620357722 2970242018 228404928
			422454208 1814118646 197903514
			1921643823 265953617 240322276
			3561904021 4140274339 41305898
			2758272184 2474071507 63802901
			1065005613 777319405 141701669
			4012995782 4181580237 113387059
			2822075085 1553835977 50115710
			1425193216 2361065633 113005874
			933604120 1682717153 131401493
			1206707282 2537874408 108015512
			2872190795 2096863630 264202003
			2684379781 1608824750 73892403
			0 2703271005 156500591
			156500591 0 265953617
			2456576329 1319240328 227803452
			848762650 2012022160 77217920
			   
			water-to-light map:
			3911747472 2911922447 51421887
			2536764367 3668005785 140896771
			1212477776 97723896 242971514
			3654733164 2831217728 80704719
			2181820500 1577059176 179170851
			1585336302 2992871942 130403154
			3625205556 2963344334 29527608
			637624684 802080725 399476166
			3348594580 2554606752 276610976
			2677661138 1756230027 290805772
			1715739456 3808902556 44864370
			1760603826 3853766926 127009556
			263054927 0 97723896
			3735437883 3980776482 176309589
			2052216401 4165363197 129604099
			3963169359 2047035799 96879299
			1037100850 340695410 175376926
			2968466910 3287878115 380127670
			4292066496 2319688114 2900800
			360778823 516072336 276845861
			1577059176 4157086071 8277126
			0 1201556891 263054927
			2360991351 2143915098 175773016
			1455449290 792918197 9162528
			1887613382 3123275096 164603019
			4060048658 2322588914 232017838
			   
			light-to-temperature map:
			2208796188 2205653945 16706445
			3202718202 3702799517 119048394
			1789679483 2433538636 64618493
			3035078142 2303892266 86108184
			2549270997 3861079544 160369770
			1016521015 833146166 1531563
			2446163080 1924420264 78302216
			3321766596 2112712346 92941599
			8948937 233013740 2442944
			1900324808 3247280742 118974530
			215056009 134795275 63846376
			3929651545 3821847911 39231633
			3841595991 3463600348 88055554
			3968883178 1812769444 68270872
			2709640767 1707931127 104838317
			1494154584 2498157129 295524899
			0 1122900024 8948937
			4037154050 1450117881 257813246
			2814479084 2793682028 220599058
			3121186326 2222360390 81531876
			3568078009 4021449314 273517982
			393292224 0 134795275
			1251655629 2390000450 43538186
			2154776907 3193261461 54019281
			1854297976 1447593855 2524026
			1153492607 3551655902 98163022
			2019299338 3057783892 135477569
			93266807 850231816 121789202
			2225502633 3649818924 52980593
			377738137 834677729 15554087
			361270479 972021018 16467658
			1018052578 988488676 113796383
			72651842 1102285059 20614965
			3458088143 2002722480 109989866
			326898390 198641651 34372089
			1295193815 1248633086 198960769
			2278483226 3366255272 97345076
			2375828302 1153492607 70334778
			1856822002 3014281086 43502806
			278902385 235456684 47996005
			2524465296 1223827385 24805701
			11391881 283452689 61259961
			528087499 344712650 488433516
			3414708195 1881040316 43379948
			   
			temperature-to-humidity map:
			1719782869 425080238 132898807
			1852681676 2807250453 270691921
			1309417343 2396884927 410365526
			963471708 0 345945635
			2998807771 345945635 79134603
			2123373597 557979045 875434174
			0 1433413219 963471708
			   
			humidity-to-location map:
			3506221501 3772218811 141412231
			862456464 199991593 70194315
			3126163959 2720338622 159394827
			2437060415 0 153033469
			1749227774 1174286868 159521600
			349850270 652576354 37663076
			158202776 305209374 55106503
			663092217 153033469 46958124
			1358475419 819305682 231265535
			1589740954 2171223218 159486820
			1296848852 450545479 26971073
			213309279 2375483203 136540991
			501031877 1333808468 54731739
			2272970697 690239430 129066252
			427251734 1050571217 73780143
			1918845890 1626226842 116689237
			3494757929 2708875050 11463572
			2781047724 3224629140 67922856
			3442916224 4132386344 51841705
			932650779 1388540207 237686635
			387513346 1742916079 39738388
			3866389034 3340362984 418348873
			710050341 587492729 57697450
			3342406366 4184228049 100509858
			0 360315877 90229602
			812520956 1124351360 49935508
			2162994520 477516552 109976177
			2035535127 1901779730 127459393
			2719729782 3758711857 13506954
			2733236736 3292551996 47810988
			2652027470 3156926828 67702312
			767747791 2330710038 44773165
			2848970580 2879733449 277193379
			1170337414 645190179 7386175
			1177723589 1782654467 119125263
			3285558786 2652027470 56847580
			1323819925 2136567724 34655494
			1908749374 2512024194 10096516
			3647633732 3913631042 218755302
			555763616 2029239123 107328601
			2402036949 270185908 35023466
			90229602 2522120710 67973174
			""";

	static String daveInputSorted = """
		seeds: 4043382508 113348245 3817519559 177922221 3613573568 7600537 773371046 400582097 2054637767 162982133 2246524522 153824596 1662955672 121419555 2473628355 846370595 1830497666 190544464 230006436 483872831
			   
		seed-to-soil map:
		0 849557294 4064811
		4064811 506246814 25615317
		29680128 1636206880 24812029
		54492157 395786200 110460614
		164952771 1163726504 300622665
		465575436 853622105 310104399
		775679835 163505437 232280763
		1007960598 8836276 47579700
		1055540298 679332386 82196064
		1137736362 531862131 73797422
		1211533784 841842038 7715256
		1219249040 56415976 106144640
		1325393680 605659553 73672833
		1399066513 1515349965 120856915
		1519923428 1464349169 88253
		1520011681 1661018909 106057083
		1626068764 0 8836276
		1634905040 1464437422 50912543
		1685817583 162560616 944821
		1686762404 761528450 80313588
		1779636204 2144263081 375686110
		2155322314 2548120606 2883579
		2158205893 1886833148 39083587
		2197289480 3607492351 121111676
		2318401156 3839499581 5166007
		2323567163 2090355001 53908080
		2377475243 3574057730 33434621
		2410909864 3957925443 149246540
		2560156404 2081665194 8689807
		2568846211 1925916735 155748459
		2724594670 4209189177 35645909
		2760240579 3728604027 5564733
		2765805312 2519990583 28130023
		2793935335 3209861711 43002393
		2836937728 3734168760 105330821
		2942268549 4156756120 52433057
		2994701606 2519949191 41392
		2994742998 2551004185 252871898
		3247614896 4244835086 50132210
		3297747106 3844665588 64454997
		3362202103 2803876083 20850209
		3383052312 1779636204 107196944
		3490249256 2918928471 290933240
		3781182496 3252864104 5074346
		3786256842 4107171983 49584137
		3835840979 3257938450 316119280
		4151960259 2824726292 94202179
		4246162438 3909120585 48804858

		soil-to-fertilizer map:
		0 356321399 298014179
		298014179 294331261 61990138
		360004317 0 108672893
		468677210 108672893 44408648
		513085858 153081541 141249720
		664927065 1834026871 25712908
		690639973 3526213107 99743564
		790383537 4121955866 173011430
		963394967 763199673 148819056
		1112214023 3018813777 288947129
		1401161152 2664100077 99602261
		1500763413 2164180200 234825839
		1735589252 664927065 98272608
		1833861860 912018729 16951096
		1850812956 4108908733 6368821
		1857181777 1816810912 17215959
		1874397736 2763702338 190823798
		2065221534 1506193032 310617880
		2375839414 4115277554 6678312
		2382517726 2954526136 62148328
		2444666054 1454841016 51352016
		2496018070 2063477396 100702804
		2596720874 2399528655 264571422
		2861292296 3388940647 58670552
		2919962848 2399006039 522616
		2920485464 4108473866 434867
		2920920331 3625956671 136061974
		3056982305 947174226 131597944
		3188580249 1078772170 65236311
		3253816560 1859739779 203737617
		3457554177 3762018645 346455221
		3804009398 3016674464 2139313
		3806148711 928969825 18204401
		3824353112 3447611199 78601908
		3902955020 3307760906 81179741
		3984134761 1144008481 310832535

		fertilizer-to-water map:
		0 2703271005 156500591
		156500591 0 265953617
		422454208 1814118646 197903514
		620357722 2970242018 228404928
		848762650 2012022160 77217920
		925980570 2089240080 7623550
		933604120 1682717153 131401493
		1065005613 777319405 141701669
		1206707282 2537874408 108015512
		1314722794 2859771596 110470422
		1425193216 2361065633 113005874
		1538199090 942587792 376652536
		1914851626 1547043780 6792197
		1921643823 265953617 240322276
		2161966099 923823182 18764610
		2180730709 506275893 271043512
		2451774221 919021074 4802108
		2456576329 1319240328 227803452
		2684379781 1608824750 73892403
		2758272184 2474071507 63802901
		2822075085 1553835977 50115710
		2872190795 2096863630 264202003
		3136392798 1603951687 4873063
		3141265861 2645889920 57381085
		3495278690 4073649008 66625331
		3561904021 4140274339 41305898
		3603209919 3780725227 292923781
		3896133700 3663863145 116862082
		4012995782 4181580237 113387059
		4126382841 3495278690 168584455

		water-to-light map:
		0 1201556891 263054927
		263054927 0 97723896
		360778823 516072336 276845861
		637624684 802080725 399476166
		1037100850 340695410 175376926
		1212477776 97723896 242971514
		1455449290 792918197 9162528
		1577059176 4157086071 8277126
		1585336302 2992871942 130403154
		1715739456 3808902556 44864370
		1760603826 3853766926 127009556
		1887613382 3123275096 164603019
		2052216401 4165363197 129604099
		2181820500 1577059176 179170851
		2360991351 2143915098 175773016
		2536764367 3668005785 140896771
		2677661138 1756230027 290805772
		2968466910 3287878115 380127670
		3348594580 2554606752 276610976
		3625205556 2963344334 29527608
		3654733164 2831217728 80704719
		3735437883 3980776482 176309589
		3911747472 2911922447 51421887
		3963169359 2047035799 96879299
		4060048658 2322588914 232017838
		4292066496 2319688114 2900800

		light-to-temperature map:
		0 1122900024 8948937
		8948937 233013740 2442944
		11391881 283452689 61259961
		72651842 1102285059 20614965
		93266807 850231816 121789202
		215056009 134795275 63846376
		278902385 235456684 47996005
		326898390 198641651 34372089
		361270479 972021018 16467658
		377738137 834677729 15554087
		393292224 0 134795275
		528087499 344712650 488433516
		1016521015 833146166 1531563
		1018052578 988488676 113796383
		1153492607 3551655902 98163022
		1251655629 2390000450 43538186
		1295193815 1248633086 198960769
		1494154584 2498157129 295524899
		1789679483 2433538636 64618493
		1854297976 1447593855 2524026
		1856822002 3014281086 43502806
		1900324808 3247280742 118974530
		2019299338 3057783892 135477569
		2154776907 3193261461 54019281
		2208796188 2205653945 16706445
		2225502633 3649818924 52980593
		2278483226 3366255272 97345076
		2375828302 1153492607 70334778
		2446163080 1924420264 78302216
		2524465296 1223827385 24805701
		2549270997 3861079544 160369770
		2709640767 1707931127 104838317
		2814479084 2793682028 220599058
		3035078142 2303892266 86108184
		3121186326 2222360390 81531876
		3202718202 3702799517 119048394
		3321766596 2112712346 92941599
		3414708195 1881040316 43379948
		3458088143 2002722480 109989866
		3568078009 4021449314 273517982
		3841595991 3463600348 88055554
		3929651545 3821847911 39231633
		3968883178 1812769444 68270872
		4037154050 1450117881 257813246

		temperature-to-humidity map:
		0 1433413219 963471708
		963471708 0 345945635
		1309417343 2396884927 410365526
		1719782869 425080238 132898807
		1852681676 2807250453 270691921
		2123373597 557979045 875434174
		2998807771 345945635 79134603

		humidity-to-location map:
		0 360315877 90229602
		90229602 2522120710 67973174
		158202776 305209374 55106503
		213309279 2375483203 136540991
		349850270 652576354 37663076
		387513346 1742916079 39738388
		427251734 1050571217 73780143
		501031877 1333808468 54731739
		555763616 2029239123 107328601
		663092217 153033469 46958124
		710050341 587492729 57697450
		767747791 2330710038 44773165
		812520956 1124351360 49935508
		862456464 199991593 70194315
		932650779 1388540207 237686635
		1170337414 645190179 7386175
		1177723589 1782654467 119125263
		1296848852 450545479 26971073
		1323819925 2136567724 34655494
		1358475419 819305682 231265535
		1589740954 2171223218 159486820
		1749227774 1174286868 159521600
		1908749374 2512024194 10096516
		1918845890 1626226842 116689237
		2035535127 1901779730 127459393
		2162994520 477516552 109976177
		2272970697 690239430 129066252
		2402036949 270185908 35023466
		2437060415 0 153033469
		2652027470 3156926828 67702312
		2719729782 3758711857 13506954
		2733236736 3292551996 47810988
		2781047724 3224629140 67922856
		2848970580 2879733449 277193379
		3126163959 2720338622 159394827
		3285558786 2652027470 56847580
		3342406366 4184228049 100509858
		3442916224 4132386344 51841705
		3494757929 2708875050 11463572
		3506221501 3772218811 141412231
		3647633732 3913631042 218755302
		3866389034 3340362984 418348873
		""";

	static String daveInput2 = """
		seeds: 923231478 1
		  
		seed-to-soil map:
		465575436 853622105 310104399
		  
		soil-to-fertilizer map:
		0 356321399 298014179
		  
		fertilizer-to-water map:
		156500591 0 265953617
		  
		water-to-light map:
		1212477776 97723896 242971514
		  
		light-to-temperature map:
		1854297976 1447593855 2524026
		  
		temperature-to-humidity map:
		0 1433413219 963471708
		  
		humidity-to-location map:
		0 360315877 90229602
		""";
}
